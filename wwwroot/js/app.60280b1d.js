(function(t){function e(e){for(var s,l,r=e[0],c=e[1],o=e[2],p=0,d=[];p<r.length;p++)l=r[p],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&d.push(i[l][0]),i[l]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(d.length)d.shift()();return n.push.apply(n,o||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,r=1;r<a.length;r++){var c=a[r];0!==i[c]&&(s=!1)}s&&(n.splice(e--,1),t=l(l.s=a[0]))}return t}var s={},i={app:0},n=[];function l(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=t,l.c=s,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)l.d(a,s,function(e){return t[e]}.bind(null,s));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var o=0;o<r.length;o++)e(r[o]);var u=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0699":function(t,e,a){"use strict";var s=a("6365"),i=a.n(s);i.a},"09e0":function(t,e,a){},1070:function(t,e,a){},"16ce":function(t,e,a){"use strict";var s=a("b42f"),i=a.n(s);i.a},"1a8a":function(t,e,a){"use strict";var s=a("b5e8"),i=a.n(s);i.a},"1bc9":function(t,e,a){"use strict";var s=a("cd43"),i=a.n(s);i.a},"2aff":function(t,e,a){"use strict";var s=a("1070"),i=a.n(s);i.a},"2b56":function(t,e,a){"use strict";var s=a("09e0"),i=a.n(s);i.a},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("navbar"),a("router-view")],1)},n=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[a("router-link",{staticClass:"navbar-brand logo",attrs:{to:{name:"home"}}},[t._v("Blockr")]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarText"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item",class:{active:"home"==t.$route.name}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"home"}}},[t._v("Home")])],1),t.$auth.isAuthenticated?a("li",{staticClass:"nav-item",class:{active:"dashboard"==t.$route.name}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"dashboard"}}},[t._v("My-Dashboard")])],1):t._e()]),a("span",{staticClass:"navbar-text"},[t.$auth.isAuthenticated?a("button",{staticClass:"btn btn-danger",on:{click:t.logout}},[t._v("logout")]):a("button",{staticClass:"btn btn-success",on:{click:t.login}},[t._v(" Login ")])])])],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],c=a("bc3a"),o=a.n(c);o.a.create({baseURL:"https://localhost:5001",withCredentials:!0});var u={name:"Navbar",methods:{async login(){await this.$auth.loginWithPopup(),await this.$auth.getUserData(),this.$store.dispatch("setBearer",this.$auth.bearer),console.log("this.$auth.user: "),console.log(this.$auth.user)},async logout(){this.$store.dispatch("resetBearer"),await this.$auth.logout({returnTo:window.location.origin})}}},p=u,d=(a("1a8a"),a("2877")),m=Object(d["a"])(p,l,r,!1,null,null,null),v=m.exports,h=a("335d"),b={name:"App",async beforeCreate(){await Object(h["c"])(),this.$store.dispatch("setBearer",this.$auth.bearer)},components:{Navbar:v}},f=b,g=(a("5c0b"),Object(d["a"])(f,i,n,!1,null,null,null)),K=g.exports,w=a("8c4f"),C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"background"},[a("div",{staticClass:"row"},[a("div",{staticClass:"cards-column "},t._l(t.keeps,(function(t,e){return a("Keep",{key:t.id,attrs:{keepData:t,keepIndex:e}})})),1)])])])},k=[],y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("img",{staticClass:"card-img-top img-fluid onclick-attr",attrs:{src:this.keepData.img},on:{click:t.setActiveKeep}}),a("div",{staticClass:"card-body"},[a("span",{staticClass:"card-title name text-center"},[t._v(t._s(this.keepData.name))]),a("br"),a("span",{staticClass:"text-center"},[t._v("Views: "+t._s(this.keepData.views)+" | Blocks: "+t._s(this.keepData.keeps))]),a("br"),"dashboard"===t.$route.name?a("button",{staticClass:"btn btn-danger",on:{click:t.deleteKeep}},[t._v("Delete")]):t._e()])])},_=[],V={name:"Keep",props:["keepData","keepIndex"],computed:{keeps(){let t=this.$store.state.publicKeeps;return t}},methods:{setActiveKeep(){this.keepData.views=this.keepData.views+1,this.$store.dispatch("updateCount",this.keepData),ht.push({name:"TileDetails",params:{keepId:this.keepData.id}})},deleteKeep(){this.$store.dispatch("deleteKeep",this.keepData)}}},$=V,x=(a("0699"),Object(d["a"])($,y,_,!1,null,null,null)),D=x.exports,I={name:"home",mounted(){return this.$store.dispatch("getKeeps")},computed:{keeps(){return this.$store.state.publicKeeps}},methods:{logout(){this.$store.dispatch("logout")}},components:{Keep:D}},A=I,B=(a("cccb"),Object(d["a"])(A,C,k,!1,null,null,null)),O=B.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard"},[a("div",{staticClass:"row"},[t._m(0),a("div",{staticClass:"col-12 text-center"},[a("h3",[t._v("Add A New Tile")]),a("form",{on:{submit:function(e){return e.preventDefault(),t.addKeep(e)}}},[a("div",{staticClass:"row m-2"},[a("div",{staticClass:"col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newKeep.name,expression:"newKeep.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Name",required:""},domProps:{value:t.newKeep.name},on:{input:function(e){e.target.composing||t.$set(t.newKeep,"name",e.target.value)}}})]),a("div",{staticClass:"col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newKeep.description,expression:"newKeep.description"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Description",required:""},domProps:{value:t.newKeep.description},on:{input:function(e){e.target.composing||t.$set(t.newKeep,"description",e.target.value)}}})]),a("div",{staticClass:"col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newKeep.Img,expression:"newKeep.Img"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Image URL",required:""},domProps:{value:t.newKeep.Img},on:{input:function(e){e.target.composing||t.$set(t.newKeep,"Img",e.target.value)}}})]),a("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[t._v("Create Tile")])])])]),a("div",{staticClass:"col-12 text-center"},[a("h3",[t._v("Add A New Block")]),a("form",{on:{submit:function(e){return e.preventDefault(),t.addVault(e)}}},[a("div",{staticClass:"row m-2"},[a("div",{staticClass:"col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newVault.name,expression:"newVault.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Name",required:""},domProps:{value:t.newVault.name},on:{input:function(e){e.target.composing||t.$set(t.newVault,"name",e.target.value)}}})]),a("div",{staticClass:"col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newVault.description,expression:"newVault.description"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Description",required:""},domProps:{value:t.newVault.description},on:{input:function(e){e.target.composing||t.$set(t.newVault,"description",e.target.value)}}})]),a("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[t._v("Create Block")])])])])]),a("div",{staticClass:"row"},[t._m(1),a("div",{staticClass:"cards-column "},t._l(t.vaults,(function(t,e){return a("Vault",{key:t.id,attrs:{vaultData:t,vaultIndex:e}})})),1)]),a("div",{staticClass:"row"},[t._m(2),a("div",{staticClass:"cards-column "},t._l(t.keeps,(function(t,e){return a("Keep",{key:t.id,attrs:{keepData:t,keepIndex:e}})})),1)])])},j=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12 text-center"},[a("h1",[t._v("WELCOME TO YOUR DASHBOARD")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12 text-center"},[a("h3",[t._v("Here Are Your Blocks")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12 text-center"},[a("h3",[t._v("Here Are Your Tiles")])])}],M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card onclick-attr",on:{click:t.setActiveVault}},[a("div",{staticClass:"card-body text-center"},[a("span",{staticClass:"card-title name text-center"},[t._v(t._s(this.vaultData.name))]),a("br"),a("span",{staticClass:"text-center"},[t._v(t._s(this.vaultData.description))])])])},E=[],P={name:"Vault",props:["vaultData","vaultIndex"],computed:{vaults(){let t=this.$store.state.myVaults;return t}},methods:{setActiveVault(){this.$store.dispatch("setActiveVault",this.vaultData),ht.push({name:"BlockDetails",params:{vaultId:this.vaultData.id}})}}},S=P,N=(a("e689"),Object(d["a"])(S,M,E,!1,null,null,null)),L=N.exports,R={name:"Dashboard",async mounted(){if(await this.$auth.isAuthenticated)return this.$store.dispatch("getMyStuff")},computed:{vaults(){return this.$store.state.myVaults},keeps(){return this.$store.state.myKeeps}},methods:{addKeep(){let t=this.newKeep;this.$store.dispatch("createKeeps",t)},addVault(){let t=this.newVault;this.$store.dispatch("createVault",t)}},data(){return{newKeep:{userId:"",name:"",description:"",img:""},newVault:{userId:"",name:"",description:""}}},components:{Keep:D,Vault:L}},U=R,q=(a("2b56"),Object(d["a"])(U,T,j,!1,null,null,null)),H=q.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 text-center"},[a("h3",{staticClass:"name"},[t._v(t._s(this.keep.name))])]),a("div",{staticClass:"col-12 text-center"},[a("img",{staticClass:"image",attrs:{src:this.keep.img}})]),a("div",{staticClass:"col-12 text-center pt-2"},[a("span",[t._v(t._s(this.keep.description))])]),this.$auth.isAuthenticated?a("div",{staticClass:"col-12 text-center"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-toggle":"modal","data-target":"#newVaultKeep"}},[t._v(" Add Tile to Block ")]),a("div",{staticClass:"modal fade",attrs:{id:"newVaultKeep",tabindex:"-1",role:"dialog","aria-labelledby":"newVaultKeepLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},t._l(t.vaults,(function(t,e){return a("VaultButton",{key:t.id,attrs:{vaultData:t,vaultIndex:e}})})),1)]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.createVaultKeep}},[t._v("Done")])])])])])]):t._e()])])},W=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"newVaultKeepLabel"}},[t._v("Which Block do you want to add this Tile to?")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12"},[a("button",{staticClass:"btn btn-danger",on:{click:t.setTempVault}},[t._v(" "+t._s(this.vaultData.name)+" ")])])},z=[],G={name:"VaultButton",props:["vaultData","vaultIndex"],computed:{vaults(){let t=this.$store.state.myVaults;return t}},methods:{setTempVault(){this.$store.dispatch("setTempVault",this.vaultData)}}},F=G,Z=(a("16ce"),Object(d["a"])(F,Y,z,!1,null,null,null)),Q=Z.exports,X={name:"TileDetails",async mounted(){if(await this.$auth.isAuthenticated)return this.$store.dispatch("getMyStuff")},computed:{keep(){return this.$store.state.activeKeep},vaults(){return this.$store.state.myVaults}},data(){return{newVaultKeep:{userId:"",vaultId:"",keepId:""}}},methods:{createVaultKeep(){this.keep.keeps=this.keep.keeps+1,this.$store.dispatch("updateCount",this.keep),this.newVaultKeep.vaultId=this.$store.state.tempVault.id,this.newVaultKeep.keepId=this.keep.id,this.$store.dispatch("createVaultKeep",this.newVaultKeep)}},components:{VaultButton:Q}},tt=X,et=(a("1bc9"),Object(d["a"])(tt,J,W,!1,null,null,null)),at=et.exports,st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 text-center"},[a("h3",{staticClass:"name"},[t._v(t._s(this.vault.name))])]),a("div",{staticClass:"col-12 text-center pt-2"},[a("span",[t._v(t._s(this.vault.description))])]),a("div",{staticClass:"col-12 text-center"},[a("button",{staticClass:"btn btn-danger",on:{click:t.deleteBlock}},[t._v("Delete This Block")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"cards-column "},t._l(t.vaultkeeps,(function(t,e){return a("VaultKeep",{key:t.id,attrs:{vaultKeepData:t,vaultKeepIndex:e}})})),1)])])},it=[],nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("img",{staticClass:"card-img-top img-fluid onclick-attr",attrs:{src:this.vaultKeepData.img},on:{click:t.setActiveKeep}}),a("div",{staticClass:"card-body"},[a("span",{staticClass:"card-title name text-center"},[t._v(t._s(this.vaultKeepData.name))]),a("br"),"BlockDetails"===t.$route.name?a("button",{staticClass:"btn btn-danger",on:{click:t.deleteVaultKeep}},[t._v("Remove From Block")]):t._e()])])},lt=[],rt={name:"VaultKeep",props:["vaultKeepData","vaultKeepIndex"],computed:{vaultKeeps(){let t=this.$store.state.myVaultKeeps;return t}},methods:{setActiveKeep(){this.keepData.views=this.keepData.views+1,this.$store.dispatch("updateCount",this.keepData),ht.push({name:"TileDetails",params:{keepId:this.keepData.id}})},deleteVaultKeep(){this.$store.dispatch("deleteVaultKeep",this.vaultKeepData)}}},ct=rt,ot=(a("2aff"),Object(d["a"])(ct,nt,lt,!1,null,null,null)),ut=ot.exports,pt={name:"VaultDetails",async mounted(){if(await this.$auth.isAuthenticated)return this.$store.dispatch("getKeepsByVaultId",this.vault.id)},computed:{vault(){return this.$store.state.activeVault},vaultkeeps(){return this.$store.state.myVaultKeeps}},methods:{deleteBlock(){this.$store.dispatch("deleteVault",this.vault),ht.push({name:"dashboard"})}},components:{VaultKeep:ut}},dt=pt,mt=(a("b571"),Object(d["a"])(dt,st,it,!1,null,null,null)),vt=mt.exports;s["a"].use(w["a"]);var ht=new w["a"]({routes:[{path:"/",name:"home",component:O},{path:"/dashboard",name:"dashboard",component:H,beforeEnter:h["b"]},{path:"/:keepId",name:"TileDetails",component:at},{path:"/:vaultId",name:"BlockDetails",component:vt,beforeEnter:h["b"]}]}),bt=a("2f62");s["a"].use(bt["a"]);let ft=location.host.includes("localhost")?"https://localhost:5001/":"/",gt=o.a.create({baseURL:ft+"api/",timeout:3e3,withCredentials:!0});var Kt=new bt["a"].Store({state:{publicKeeps:[],myVaults:[],myKeeps:[],myVaultKeeps:[],activeKeep:{},activeVault:{},tempVault:{}},mutations:{setPublicKeeps(t,e){t.publicKeeps=e},setMyVaults(t,e){t.myVaults=e},setMyKeeps(t,e){t.myKeeps=e},setMyVaultKeeps(t,e){t.myVaultKeeps=e},setActiveKeep(t,e){t.activeKeep=e},setActiveVault(t,e){t.activeVault=e},setTempVault(t,e){t.tempVault=e},deleteKeep(t,e){t.publicKeeps=t.publicKeeps.filter(t=>t.id!=e.id)},deleteVault(t,e){t.myVaults=t.myVaults.filter(t=>t.id!=e.id)},removeVaultKeep(t,e){t.myVaultKeeps=t.myVaultKeeps.filter(t=>t.id!=e.id)}},actions:{setBearer({},t){gt.defaults.headers.authorization=t},resetBearer(){gt.defaults.headers.authorization=""},async getKeeps({commit:t,dispatch:e}){let a=await gt.get("keeps");t("setPublicKeeps",a.data)},async getKeepById({commit:t,dispatch:e},a){let s=await gt.get(a.id);t("setActiveKeep",s.data)},async getMyStuff({commit:t,dispatch:e}){let a=await gt.get("vaults/myvaults");t("setMyVaults",a.data);let s=await gt.get("keeps/mykeeps");t("setMyKeeps",s.data)},async getKeepsByVaultId({commit:t,dispatch:e},a){let s=await gt.get("vaults/"+a+"/keeps");t("setMyVaultKeeps",s.data)},async createKeeps({commit:t,dispatch:e},a){await gt.post("keeps",a);e("getMyStuff")},async createVault({commit:t,dispatch:e},a){await gt.post("vaults",a);e("getMyStuff")},async createVaultKeep({commit:t,dispatch:e},a){await gt.post("vaultkeeps",a)},setActiveKeep({commit:t,dispatch:e},a){t("setActiveKeep",a)},setActiveVault({commit:t,dispatch:e},a){t("setActiveVault",a)},setTempVault({commit:t,dispatch:e},a){t("setTempVault",a)},async updateKeeps({commit:t,dispatch:e},a){await gt.put("keeps/"+a.id);e("getKeeps")},async updateCount({commit:t,dispatch:e},a){let s=await gt.put("keeps/"+a.id,a);e("setActiveKeep",s.data),e("getKeeps")},async deleteKeep({commit:t,dispatch:e},a){let s=await gt.delete("keeps/"+a.id);t("deleteKeep",s.data),e("getMyStuff")},async deleteVault({commit:t,dispatch:e},a){let s=await gt.delete("vaults/"+a.id);t("deleteVault",s.data),e("getMyStuff")},async deleteVaultKeep({commit:t,dispatch:e},a){let s=await gt.delete("vaultkeeps/"+a.vaultKeepId);t("removeVaultKeep",s.data)}}});const wt="dev-codeworks2020.auth0.com",Ct="https://dev-codeworks2020.com",kt="Ix5GSe9GwbHMiJTZLkhknrPp8sKK575i";s["a"].use(h["a"],{domain:wt,clientId:kt,audience:Ct,onRedirectCallback:t=>{ht.push(t&&t.targetUrl?t.targetUrl:window.location.pathname)}}),new s["a"]({router:ht,store:Kt,render:function(t){return t(K)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var s=a("9c0c"),i=a.n(s);i.a},"5ced":function(t,e,a){},6365:function(t,e,a){},"9c0c":function(t,e,a){},b42f:function(t,e,a){},b571:function(t,e,a){"use strict";var s=a("b8e6"),i=a.n(s);i.a},b5e8:function(t,e,a){},b8e6:function(t,e,a){},cccb:function(t,e,a){"use strict";var s=a("5ced"),i=a.n(s);i.a},cd19:function(t,e,a){},cd43:function(t,e,a){},e689:function(t,e,a){"use strict";var s=a("cd19"),i=a.n(s);i.a}});